<!DOCTYPE html>

<html>
  <head>
    <link rel="stylesheet" href="/css/splitflap.css">
    <style>
      div.row {
	  display: flex;
	  flex-flow: row nowrap;
      }
    </style>
  </head>
  <body>
    <h1>Here be the demo</h1>
    <div class="row">
      <split-flap></split-flap>
      <split-flap></split-flap>
      <split-flap></split-flap>
      <split-flap></split-flap>
    </div>
    <hr/>
    <div class="flip" onClick="flip(this)">
      <div class="flap flap-top">
	<div>8</div>
      </div>
      <div class="flap flap-bottom">
	<div>8</div>
      </div>
    </div>
    <script src="/js/splitflap.js"></script>
    <script>
      const states = ['up', 'open', 'down'];
      var cs = 0;
      
      function flip(cDisp){
	  if(++cs >= states.length)
	      cs = 0;

	  console.log('Moving to', states[cs]);
	  
	  let top = cDisp.querySelector('.flap-top'),
	      bottom = cDisp.querySelector('.flap-bottom');

	  const dc = 'is-down'

	  switch(cs){
	  case 0:
	      top.classList.remove(dc);
	      bottom.classList.remove(dc);
	      break;

	  case 1:
	      top.classList.remove(dc);
	      bottom.classList.add(dc);
	      break;

	  case 2:
	      top.classList.add(dc);
	      bottom.classList.add(dc);
	      break;
	  }
      }
    </script>
  </body>
</html>
